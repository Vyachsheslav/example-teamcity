## Домашнее задание к занятию 11 «Teamcity»-"Андрющенко Вячеслав"

Подготовка к выполнению
В Yandex Cloud создайте новый инстанс (4CPU4RAM) на основе образа jetbrains/teamcity-server.
Дождитесь запуска teamcity, выполните первоначальную настройку.
Создайте ещё один инстанс (2CPU4RAM) на основе образа jetbrains/teamcity-agent. Пропишите к нему переменную окружения SERVER_URL: "http://<teamcity_url>:8111".
Авторизуйте агент.
![](/pic/1.png)

Сделайте fork репозитория.
Создайте VM (2CPU4RAM) и запустите playbook.
![](/pic/2.png)

Основная часть
Создайте новый проект в teamcity на основе fork.
Сделайте autodetect конфигурации.
Сохраните необходимые шаги, запустите первую сборку master.
![](/pic/3.png)

Поменяйте условия сборки: если сборка по ветке master, то должен происходит mvn clean deploy, иначе mvn clean test.
![](/pic/4.png)

Для deploy будет необходимо загрузить settings.xml в набор конфигураций maven у teamcity, предварительно записав туда креды для подключения к nexus.

В pom.xml необходимо поменять ссылки на репозиторий и nexus.
![](/pic/5.png)

Запустите сборку по master, убедитесь, что всё прошло успешно и артефакт появился в nexus.
![](/pic/6.png)
![](/pic/6_1.png)
Мигрируйте build configuration в репозиторий.
Создайте отдельную ветку feature/add_reply в репозитории.
![](/pic/7.png)
Напишите новый метод для класса Welcomer: метод должен возвращать произвольную реплику, содержащую слово hunter.
![](/pic/8.png)
Дополните тест для нового метода на поиск слова hunter в новой реплике.
![](/pic/9.png)
Сделайте push всех изменений в новую ветку репозитория.
![](/pic/10.png)
Убедитесь, что сборка самостоятельно запустилась, тесты прошли успешно.
![](/pic/11.png)
Внесите изменения из произвольной ветки feature/add_reply в master через Merge.
![](/pic/12.png)
Убедитесь, что нет собранного артефакта в сборке по ветке master.
Настройте конфигурацию так, чтобы она собирала .jar в артефакты сборки.
![](/pic/13.png)
Проведите повторную сборку мастера, убедитесь, что сбора прошла успешно и артефакты собраны.
Проверьте, что конфигурация в репозитории содержит все настройки конфигурации из teamcity.
В ответе пришлите ссылку на репозиторий.
